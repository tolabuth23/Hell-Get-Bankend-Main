# Hell Gate Backend ðŸ˜ˆ

**Required Tech Stack**

- NestJS Microservice
- MongoDB
- Redis

1.1 à¸­à¸­à¸à¹à¸šà¸šà¸£à¸°à¸šà¸šà¸£à¹‰à¸²à¸™à¸«à¸™à¸±à¸‡à¸ªà¸·à¸­ à¹‚à¸”à¸¢à¸¡à¸µ service à¸”à¸±à¸‡à¸™à¸µà¹‰ 
  - User Service
  - Book Service
    
1.2 à¸­à¸­à¸à¹à¸šà¸š Features à¸‚à¸­à¸‡ User Service à¸”à¸±à¸‡à¸™à¸µà¹‰
  - à¹€à¸žà¸´à¹ˆà¸¡ / à¸¥à¸š / à¹à¸à¹‰à¹„à¸‚à¸‚à¹‰à¸­à¸¡à¸¹à¸¥ User
  - à¹à¸ªà¸”à¸‡à¸£à¸²à¸¢à¸à¸²à¸£ User à¹à¸šà¸š pagination ( à¸ªà¸²à¸¡à¸²à¸£à¸– filter à¸•à¸²à¸¡à¸Šà¸·à¹ˆà¸­à¸œà¸¹à¹‰à¹ƒà¸Šà¹‰à¸‡à¸²à¸™ , à¸Šà¸·à¹ˆà¸­ - à¸™à¸²à¸¡à¸ªà¸à¸¸à¸¥ à¹„à¸”à¹‰ )
  - à¹à¸ªà¸”à¸‡à¸£à¸²à¸¢à¸à¸²à¸£ User à¸ªà¸²à¸¡à¸²à¸£à¸–à¹à¸ªà¸”à¸‡à¸ˆà¸³à¸™à¸§à¸™à¸«à¸™à¸±à¸‡à¸ªà¸·à¸­à¸—à¸±à¹‰à¸‡à¸«à¸¡à¸”à¸—à¸µà¹ˆà¹à¸•à¹ˆà¸¥à¸° user à¸‹à¸·à¹‰à¸­à¹„à¸›à¹„à¸”à¹‰
  - à¹à¸ªà¸”à¸‡à¸£à¸²à¸¢à¸à¸²à¸£ User à¸ªà¸²à¸¡à¸²à¸£à¸–à¹à¸ªà¸”à¸‡à¸§à¸±à¸™à¸—à¸µà¹ˆà¸‹à¸·à¹‰à¸­à¸«à¸™à¸±à¸‡à¸ªà¸·à¸­à¸¥à¹ˆà¸²à¸ªà¸¸à¸”à¸‚à¸­à¸‡à¹à¸•à¹ˆà¸¥à¸° user à¹„à¸”à¹‰
  - à¸£à¸°à¸šà¸š Login (à¹€à¸¡à¸·à¹ˆà¸­à¸¡à¸µà¸à¸²à¸£à¸¥à¹‡à¸­à¸„à¸­à¸´à¸™à¸œà¸´à¸”à¸žà¸¥à¸²à¸” 3 à¸„à¸£à¸±à¹‰à¸‡à¸ˆà¸°à¸–à¸¹à¸à¸£à¸°à¸‡à¸±à¸š 10 à¸§à¸´à¸™à¸²à¸—à¸µ)
  - à¸£à¸°à¸šà¸šà¸£à¸²à¸¢à¸‡à¸²à¸™à¸ˆà¸³à¸™à¸§à¸™à¸ªà¸¡à¸²à¸Šà¸´à¸à¹ƒà¸«à¸¡à¹ˆ
  - à¸£à¸°à¸šà¸šà¸£à¸²à¸¢à¸‡à¸²à¸™à¸ˆà¸³à¸™à¸§à¸™à¸ªà¸¡à¸²à¸Šà¸´à¸à¸—à¸µà¹ˆà¹€à¸‚à¹‰à¸²à¹ƒà¸Šà¹‰à¸£à¸°à¸šà¸š
  - à¸£à¸°à¸šà¸šà¹€à¸›à¸¥à¸µà¹ˆà¸¢à¸™ Password
  - à¸£à¸°à¸‡à¸±à¸šà¸à¸²à¸£à¹ƒà¸Šà¹‰à¸‡à¸²à¸™ User

1.3 à¸­à¸­à¸à¹à¸šà¸š Features à¸‚à¸­à¸‡ Book Service à¸”à¸±à¸‡à¸™à¸µà¹‰
  - à¹€à¸žà¸´à¹ˆà¸¡ / à¸¥à¸š / à¹à¸à¹‰à¹„à¸‚à¸‚à¹‰à¸­à¸¡à¸¹à¸¥ Book
  - à¹à¸ªà¸”à¸‡à¸«à¸™à¸±à¸‡à¸ªà¸·à¸­ ( filter à¸•à¸²à¸¡à¸«à¸¡à¸§à¸”à¸«à¸¡à¸¹à¹ˆ , à¹€à¸£à¸µà¸¢à¸‡à¸¥à¸³à¸”à¸±à¸šà¸«à¸™à¸±à¸‡à¸ªà¸·à¸­à¸—à¸µà¹ˆà¹€à¸«à¸¥à¸·à¸­à¸¡à¸²à¸ - à¸™à¹‰à¸­à¸¢ , à¸£à¸²à¸„à¸²à¸•à¹ˆà¸³ - à¸ªà¸¹à¸‡ )
  - à¸£à¸°à¸šà¸šà¸šà¸±à¸™à¸—à¸¶à¸à¸à¸²à¸£à¸‹à¸·à¹‰à¸­à¸«à¸™à¸±à¸‡à¸ªà¸·à¸­à¸‚à¸­à¸‡ user
  - à¸£à¸°à¸šà¸šà¸£à¸²à¸¢à¸‡à¸²à¸™à¸«à¸™à¸±à¸‡à¸ªà¸·à¸­à¸—à¸µà¹ˆà¸–à¸¹à¸à¸‚à¸²à¸¢à¹ƒà¸™à¹à¸•à¹ˆà¸¥à¸°à¸«à¸¡à¸§à¸”à¸«à¸¡à¸¹à¹ˆ , à¸ˆà¸±à¸”à¸­à¸±à¸™à¸”à¸±à¸šà¸«à¸™à¸±à¸‡à¸ªà¸·à¸­à¸—à¸µà¹ˆà¸–à¸¹à¸à¸‚à¸²à¸¢à¹€à¸¢à¸­à¸°à¸—à¸µà¹ˆà¸ªà¸¸à¸” , à¸«à¸™à¸±à¸‡à¸ªà¸·à¸­à¸—à¸µà¹ˆà¹ƒà¸à¸¥à¹‰à¸ˆà¸°à¸«à¸¡à¸”
  - à¸£à¸°à¸šà¸šà¸ˆà¸±à¸”à¸­à¸±à¸™à¸”à¸±à¸šà¸œà¸¹à¹‰à¸—à¸µà¹ˆà¸‹à¸·à¹‰à¸­à¸«à¸™à¸±à¸‡à¸ªà¸·à¸­ à¸ˆà¸³à¸™à¸§à¸™à¸à¸µà¹ˆà¹€à¸¥à¹ˆà¸¡ à¹à¸šà¹ˆà¸‡à¹€à¸›à¹‡à¸™à¸«à¸¡à¸§à¸”à¸«à¸¡à¸¹à¹ˆà¸¥à¸°à¸à¸µà¹ˆà¹€à¸¥à¹ˆà¸¡ à¸£à¸²à¸„à¸²à¹€à¸—à¹ˆà¸²à¹„à¸«à¸£à¹ˆ
  - User à¸—à¸µà¹ˆà¸–à¸¹à¸à¸£à¸°à¸‡à¸±à¸šà¸à¸²à¸£à¹ƒà¸Šà¹‰à¸‡à¸²à¸™à¸ˆà¸°à¹„à¸¡à¹ˆà¸ªà¸²à¸¡à¸²à¸£à¸–à¸‹à¸·à¹‰à¸­à¸«à¸™à¸±à¸‡à¸ªà¸·à¸­à¹„à¸”à¹‰
  
  Optional
- each Book can have an image
- à¸£à¸°à¸šà¸šà¸£à¸²à¸¢à¸‡à¸²à¸™à¸ªà¸²à¸¡à¸²à¸£à¸–à¸£à¸°à¸šà¸¸à¸§à¸±à¸™à¹€à¸§à¸¥à¸²à¸—à¸µà¹ˆà¸•à¹‰à¸­à¸‡à¸à¸²à¸£à¹„à¸”à¹‰ à¸«à¸£à¸·à¸­ à¹€à¸¥à¸·à¸­à¸à¹€à¸›à¹‡à¸™à¸£à¸²à¸¢à¸§à¸±à¸™ / à¹€à¸”à¸·à¸­à¸™ / à¸›à¸µ


export const updateStudentScore = (store: IStore[], update: IStudentUpdateScore): IStore[] => {
  console.log("Data befor update :", store)
  const key = Object.keys(update.scores)
  let no = false
  const value = Object.values(update.scores)
    for (let i =0; i<store.length; i++){
      if(store[i].subject == key[i]){
        store[i].students.push({name: update.name, score: value[i]}) 
        no = true
    }
    }
    if(!no){
      for(let j =0;j<key.length; j++){
      store.push({subject: key[j], students:[{name: update.name,score: value[j]}]})
      }
      }
  return store
}
const d = []
  const doubled = store
  .filter((n,i) =>n.subject == subjects[i])
  .map((n,j) =>
   {
    return d.push({name:n.students[j].name, math: n.students[j].score})}
   )
   console.log(doubled)
  console.log(d)


// const keyOfScore = Object.keys(update.scores)
  // let no = false
  // const value = Object.values(update.scores)
  //   for (let i =0; i<store.length; i++){
  //     if(store[i].subject == keyOfScore[i]){
  //       if(update.name == store[i].students[0].name){
  //         store[i].students[0] ={name: update.name, score: value[i]}
  //          no = true
  //         }else{
  //           store[i].students.push({name: update.name, score: value[i]}) 
  //           no = true
  //         }
  //       }
  //   }
  //   if(!no){
  //     for(let j =0;j<keyOfScore.length; j++){
  //     store.push({subject: keyOfScore[j], students:[{name: update.name,score: value[j]}]})
  //     }
      
  //     }
